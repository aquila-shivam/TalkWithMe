;/*FB_PKG_DELIM*/

__d("PolarisDaisyLikedByListHeader.react",["fbt","IGDSBox.react","IGDSText.react","PolarisAssetManagerGlyphMapping","PolarisBigNumber.react","PolarisIGCoreIcon","PolarisReactRedux","PolarisShouldHideLikeCountsWithControls","polarisGetPostFromGraphMediaInterface","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a,b=null;if(d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls((a=this.props.viewer)==null?void 0:a.hideLikeAndViewCounts,this.props.likeAndViewCountsDisabled,this.props.isOwnerTheViewer===!0))if(this.props.isOwnerTheViewer!==!0&&this.props.ownerUsername!=null){a=this.props.ownerUsername;a=h._("__JHASH__ITrx3673_wb__JHASH__",[h._param("media author username",a)]);b=i.jsx(c("IGDSBox.react"),{marginBottom:4,marginTop:6,paddingX:4,position:"relative",children:i.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:a})})}else if(this.props.isOwnerTheViewer===!0&&this.props.likeCount!=null)if(this.props.viewCount!=null&&this.props.viewCount>0&&!d("polarisGetPostFromGraphMediaInterface").isClipsProductType(this.props.productType)){a=h._("__JHASH__Qn49EMBSNxU__JHASH__");b=i.jsxs(c("IGDSBox.react"),{marginBottom:4,marginTop:6,paddingX:4,position:"relative",children:[i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",marginBottom:1,position:"relative",children:[i.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:i.jsx(c("PolarisIGCoreIcon"),{alt:h._("__JHASH__WdNfiAaf6t8__JHASH__"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.PLAY_FILLED_16_GREY9})}),i.jsx(c("IGDSText.react").Section,{children:i.jsx(c("PolarisBigNumber.react"),{value:this.props.viewCount!=null?this.props.viewCount:0})}),i.jsxs(c("IGDSBox.react"),{marginEnd:1,marginStart:2,position:"relative",children:[" ",i.jsx(c("PolarisIGCoreIcon"),{alt:h._("__JHASH__GAaRvXhvyry__JHASH__"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.HEART_FILLED_16_GREY9})]}),i.jsx(c("IGDSText.react").Section,{children:i.jsx(c("PolarisBigNumber.react"),{value:this.props.likeCount!=null?this.props.likeCount:0})})]}),i.jsx(c("IGDSBox.react"),{position:"relative",children:i.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:a})})]})}else{a=h._("__JHASH__MNsKlv0KORc__JHASH__");b=i.jsxs(c("IGDSBox.react"),{marginBottom:4,marginTop:6,paddingX:4,position:"relative",children:[i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",marginBottom:1,position:"relative",children:[i.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:i.jsx(c("PolarisIGCoreIcon"),{alt:h._("__JHASH__GAaRvXhvyry__JHASH__"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.HEART_FILLED_16_GREY9})}),i.jsx(c("IGDSText.react").Section,{children:i.jsx(c("PolarisBigNumber.react"),{value:this.props.likeCount!=null?this.props.likeCount:0})})]}),i.jsx(c("IGDSBox.react"),{position:"relative",children:i.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:a})})]})}return b};return b}(i.Component);function a(a){return{viewer:d("polarisUserSelectors").getViewer(a)}}e=d("PolarisReactRedux").connect(a)(b);g["default"]=e}),98);
__d("PolarisLikedByListScrollableContent.react",["IGDSThemeConstantsHelpers","PolarisLogger","PolarisUserList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="likedByListScrollableContent",j=400-d("IGDSThemeConstantsHelpers").getNumericValue("scrollable-content-header-height");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){a=a.numScreensFromEnd;c.$1()&&a<=.75&&c.props.requestNextLikes()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.props.deferLogPageView!==!0&&d("PolarisLogger").logPageView(i)};e.$1=function(){return this.props.hasMore===!0&&!this.props.isLoading&&!this.props.isSearching};e.render=function(){return h.jsx(c("PolarisUserList.react"),{analyticsContext:i,avatarTriggerAnalyticsContext:"liker_list_avatar",containerSize:j,isLoading:this.props.isLoading,onScroll:this.$2,userIds:this.props.users,usernameTriggerAnalyticsContext:"liker_list"})};return b}(h.Component);g["default"]=a}),98);
__d("PolarisLikedByListModal.react",["fbt","IGCoreModal","IGDSBox.react","IGDSThemeConstantsHelpers","PolarisDaisyLikedByListHeader.react","PolarisIGCoreModalHeader","PolarisLikedByListScrollableContent.react","PolarisLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=400-d("IGDSThemeConstantsHelpers").getNumericValue("scrollable-content-header-height"),l=200;function a(a){var b=a.hasMore,e=a.isLoading,f=a.isOwnerTheViewer,g=a.likeAndViewCountsDisabled,m=a.likeCount,n=a.onClose,o=a.ownerUsername,p=a.productType,q=a.requestNextLikes,r=a.searchInput;r=r===void 0?"":r;var s=a.users;a=a.viewCount;j(function(){d("PolarisLogger").logPageView("likedByListModal")},[]);var t=h._("__JHASH__kRHJRYG8Kn5__JHASH__");return i.jsxs(c("IGCoreModal"),{"aria-label":t,onClose:n,children:[i.jsx(c("PolarisIGCoreModalHeader"),{onClose:n,children:t}),i.jsx(c("PolarisDaisyLikedByListHeader.react"),{isOwnerTheViewer:f,likeAndViewCountsDisabled:g,likeCount:m,ownerUsername:o,productType:p,viewCount:a}),i.jsx(c("IGDSBox.react"),{flex:"grow",maxHeight:k,minHeight:l,overflow:"hidden",position:"relative",children:i.jsx(c("PolarisLikedByListScrollableContent.react"),{deferLogPageView:!0,hasMore:b,isLoading:e,isSearching:!!(r==null?void 0:r.length),requestNextLikes:q,users:s})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLikedByListPage.react",["fbt","PolarisConditionalPageLayoutHandler.react","PolarisDaisyLikedByListHeader.react","PolarisFooter.react","PolarisNavigationalHeader.react","PolarisPageMetadata.react","PolarisScrollWatchedComponent.react","PolarisShell.react","PolarisSizing","PolarisUserList.react","react","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=d("react");var j=a.useEffect,k=a.useRef,l="likedByListPage",m=h._("__JHASH__2fOpKxPwG5o__JHASH__");b=function(a){var b=a.hasMore,e=a.isLoading,f=a.isOwnerTheViewer,g=a.likeAndViewCountsDisabled,h=a.likeCount,n=a.ownerUsername,o=a.productType,p=a.requestNextLikes,q=a.searchInput;q=q===void 0?"":q;var r=a.users;a=a.viewCount;var s=c("usePrevious")(r),t=k(null),u=b&&!e&&!q;j(function(){t.current!=null&&u&&s!=null&&s!==r&&t.current.forceRecompute()},[u,s,r]);b=function(){p!=null&&u&&p()};q=function(){window.history.go(-1)};q=i.jsxs(c("PolarisShell.react"),{footerVariant:c("PolarisFooter.react").VARIANTS.slim,maxWidth:d("PolarisSizing").SITE_WIDTHS.narrow,mobileHeader:i.jsx(c("PolarisNavigationalHeader.react"),{onCancel:q,title:m}),pageIdentifier:l,children:[i.jsx(c("PolarisPageMetadata.react"),{id:l}),i.jsx(c("PolarisDaisyLikedByListHeader.react"),{isOwnerTheViewer:f,likeAndViewCountsDisabled:g,likeCount:h,ownerUsername:n,productType:o,viewCount:a}),i.jsx(c("PolarisUserList.react"),{analyticsContext:l,isLoading:e,userIds:r}),u&&i.jsx(c("PolarisScrollWatchedComponent.react"),{onScrollEnter:b,ref:function(a){return t.current=a}})]});return i.jsx(c("PolarisConditionalPageLayoutHandler.react"),{mainComponent:q})};g.LikedByListPage=b}),98);
__d("polarisLikedByListSelectors",["PolarisLikedByListState","polarisCreateSelectorWithArg","polarisUserSelectors"],(function(a,b,c,d,e,f,g){"use strict";a=c("polarisCreateSelectorWithArg")(function(a){return a.likedByLists},function(a){return function(b){return(b=a[b])!=null?b:d("PolarisLikedByListState").EMPTY_LISTS}});b=c("polarisCreateSelectorWithArg")(function(a){return a.likedByLists},function(a){return function(b){return(b=a[b])!=null?b:d("PolarisLikedByListState").EMPTY_LISTS}});e=c("polarisCreateSelectorWithArg")(function(a){return a},function(a){return function(b){return b.userIds.map(function(b){return{userID:b,username:d("polarisUserSelectors").getUserById(a,b).username}}).filter(function(a){a=a.username;return a!=null&&a!==""&&a.includes(b.searchInput)}).map(function(a){a=a.userID;return a})}});g.getListByMediaId=a;g.getListByShortcode=b;g.getVisibleUsersForLikedByList=e}),98);
__d("PolarisLikedByListContainer.react",["PolarisLikedByListActions","PolarisLikedByListModal.react","PolarisLikedByListPage.react","PolarisLikedByListVariant","PolarisPaginationUtils","PolarisReactRedux","polarisLikedByListSelectors","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var c=b.mediaId;b.shortcode;b=d("polarisUserSelectors").getViewer(a);c=d("polarisLikedByListSelectors").getListByMediaId(a,c);return{hasMore:d("PolarisPaginationUtils").hasNextPage(c.pagination)!==!1,isLoading:d("PolarisPaginationUtils").isFetching(c.pagination),pagination:c.pagination,searchInput:c.searchInput,userIDs:d("polarisLikedByListSelectors").getVisibleUsersForLikedByList(a,c),viewerId:b&&b.id}}function b(a,b){return{requestNextLikes:function(){return},setSearchInput:function(c){return a(d("PolarisLikedByListActions").setSearchInput(b.shortcode,c))}}}e=d("PolarisReactRedux").connect(a,b)(function(a){var b=a.display;a=babelHelpers.objectWithoutPropertiesLoose(a,["display"]);var e={hasMore:a.hasMore,isLoading:a.isLoading,isOwnerTheViewer:a.isOwnerTheViewer,likeAndViewCountsDisabled:a.likeAndViewCountsDisabled,likeCount:a.likeCount,ownerUsername:a.ownerUsername,productType:a.productType,requestNextLikes:a.requestNextLikes,searchInput:a.searchInput,users:a.userIDs,viewCount:a.viewCount};switch(b){case c("PolarisLikedByListVariant").Page:return h.jsx(d("PolarisLikedByListPage.react").LikedByListPage,babelHelpers["extends"]({},e));case c("PolarisLikedByListVariant").Modal:return h.jsx(c("PolarisLikedByListModal.react"),babelHelpers["extends"]({onClose:a.onClose},e))}});g["default"]=e}),98);
__d("PolarisMobileLikedByRoot.react",["PolarisLikedByListActions","PolarisLikedByListContainer.react","PolarisLikedByListVariant","PolarisReactRedux","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){a=a.props;var b=a.routeParams.shortcode;a=a.routeProps;var e=a.media_id;a=a.media_owner_id;var f=d("PolarisReactRedux").useDispatch();i(function(){f(d("PolarisLikedByListActions").requestNativeLikedByList(e))},[f,e,b]);return a==null||e==null?null:h.jsx(c("PolarisLikedByListContainer.react"),{display:c("PolarisLikedByListVariant").Page,mediaId:e,onClose:function(){},shortcode:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);